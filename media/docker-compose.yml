services:
  ##
  # Server homepage
  # https://gethomepage.dev/
  ##
  homepage:
    image: ghcr.io/gethomepage/homepage:latest
    volumes:
      - homepage_config:/app/config
      - /media/trinity:/trinity:ro
      - /var/run/docker.sock:/var/run/docker.sock
    ports:
      - 3000:3000
    restart: always

  ##
  # Bittorrent client
  ##
  transmission:
    image: docker.io/linuxserver/transmission:latest
    environment:
      - PUID=169
      - PGID=1001
      - TZ=America/New_York
    volumes:
      - transmission_config:/config
      - /media/trinity/.torrents:/downloads
    ports:
      - 127.0.0.1:9091:9091
      - 51413:51413
      - 51413:51413/udp
    restart: always
    labels:
      - homepage.group=Downloads
      - homepage.name=Transmission
      - homepage.icon=transmission
      - homepage.href=https://mattvperry.com/torrent/web/
      - homepage.widget.type=transmission
      - homepage.widget.url=http://transmission:9091/
      - homepage.widget.rpcUrl=transmission/

  ##
  # Usenet client
  ##
  nzbget:
    image: docker.io/linuxserver/nzbget:latest
    environment:
      - PUID=974
      - PGID=1001
      - TZ=America/New_York
    volumes:
      - nzbget_config:/config
      - /media/trinity/.usenet:/downloads
    ports:
      - 127.0.0.1:6789:6789
    restart: always
    labels:
      - homepage.group=Downloads
      - homepage.name=NZBGet
      - homepage.icon=nzbget
      - homepage.href=https://mattvperry.com/nzb/
      - homepage.widget.type=nzbget
      - homepage.widget.url=http://nzbget:6789

volumes:
  homepage_config:
  transmission_config:
  nzbget_config: